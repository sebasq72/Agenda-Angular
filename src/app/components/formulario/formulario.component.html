<div class="center">
  <h1 *ngIf="!editar; else editartrue">Nuevo Contacto</h1>
</div>
<ng-template #editartrue>
  <h1>Editar Contacto</h1>
</ng-template>

<div class=" center">
  <div class="">
    <div class="full-width center">
      <img id="fotoPrevia" alt="Sin" />
      <!-- <div>Vista previa de la foto:</div> -->
    </div>

    <br>

    <form [formGroup]="rForm" (ngSubmit)="onSubmit(rForm.value)">
      <div>
        <mat-form-field class="example-full-width">
          <mat-label>Nombre</mat-label>
          <input
            matInput
            type="text"
            placeholder="Nombre"
            formControlName="nombre"
          />
        </mat-form-field>
        <div *ngIf="!rForm.controls['nombre'].valid && rForm.controls['nombre'].touched " class="error">Debe ingresar un nombre de usuario con más de tres caracteres!</div>
      </div>

      <div>
        <mat-form-field class="example-full-width">
          <mat-label>Apellidos</mat-label>
          <input
            matInput
            type="text"
            placeholder="Apellidos"
            formControlName="apellidos"
          />
        </mat-form-field>
        <div *ngIf="!rForm.controls['apellidos'].valid && rForm.controls['apellidos'].touched " class="error">Debe ingresar un apellido de usuario con más de tres caracteres!</div>
      </div>

      <div>
        <mat-form-field class="example-full-width">
          <mat-label>Direccion</mat-label>
          <input
            matInput
            type="text"
            placeholder="Direccion"
            formControlName="direccion"
          />
        </mat-form-field>
        <div *ngIf="!rForm.controls['direccion'].valid && rForm.controls['direccion'].touched " class="error">Debe ingresar una dirección!</div>
      </div>

      <div>
        <mat-form-field class="example-full-width">
          <mat-label>Correo</mat-label>
          <input
            matInput
            type="email"
            placeholder="Correo"
            formControlName="correo"
          />
        </mat-form-field>
        <div *ngIf="!rForm.controls['correo'].valid && rForm.controls['correo'].touched " class="error">Debe ingresar una dirección de email válida!</div>
      </div>

      <div>
        <mat-form-field class="example-full-width">
          <mat-label>Telefono</mat-label>
          <input
            matInput
            type="number"
            placeholder="Telefono"
            formControlName="telefono"
          />
        </mat-form-field>
        <div *ngIf="!rForm.controls['telefono'].valid && rForm.controls['telefono'].touched " class="error">Debe ingresar un número entre 3000000000 y 3300000000!</div>
      </div>

      <div class="full-width">
        <mat-form-field class="example-full-width">
          <mat-label>Foto</mat-label>
          <input
            matInput
            type="url"
            placeholder="Foto"
            formControlName="foto"
          />
        </mat-form-field>
        <div *ngIf="!rForm.controls['foto'].valid && rForm.controls['foto'].touched " class="error">Debe ingresar una dirección URL válida!</div>
      </div>

      <div *ngIf="editar">
        <input type="hidden" formControlName="id" value="" />
      </div>

      <div *ngIf="!editar; else editarboton">
        <button
          type="submit"
          [disabled]="!rForm.valid"
          class="full-width example-full-width"
          mat-raised-button
          color="primary"
        >
          Guardar Contacto
        </button>
      </div>

      <ng-template #editarboton>
        <button
          type="submit"
          [disabled]="!rForm.valid"
          class="full-width example-full-width"
          mat-raised-button
          color="warn"
        >
          Actualizar Contacto
        </button>
      </ng-template>

    </form>

  </div>
</div>

